<!DOCTYPE html>
<html>
<head>
    <title>Login Page</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://kit.fontawesome.com/d34866437d.js" crossorigin="anonymous"></script>
    <!-- Include Firebase JavaScript SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>
    <div class="login-area">
        <div class="login-box">
            <div class="user-icon">
                <i class="fas fa-user"></i>
            </div>
            <h2>Welcome Back!</h2>
            <p>Login with your Stingray ID</p>
            <div class="input-box">
                <input type="text" id="username" placeholder="Username">
            </div>
            <div class="input-box">
                <input type="password" id="password" placeholder="Password">
            </div>
            <div class="buttons">
                <button class="create-account-btn" onclick="createAccount()">First time? Create account</button>
                <button class="login-btn" onclick="login()">Login</button>
            </div>
        </div>
    </div>

    <script>
        var firebaseConfig = {
            // Add your Firebase project configuration here
           apiKey: "AIzaSyDOwP73Z8Baz32X6JlW3D7pJPBvCNezja8",
  authDomain: "stingr-19f41.firebaseapp.com",
  projectId: "stingr-19f41",
  storageBucket: "stingr-19f41.appspot.com",
  messagingSenderId: "530197032398",
  appId: "1:530197032398:web:c1c24c9fbf7b2dba9b0f9f",
  measurementId: "G-MQ44XK2YJZ"
        };
        firebase.initializeApp(firebaseConfig);

        var usernameField = document.getElementById('username');
        var passwordField = document.getElementById('password');

        // Function to create a new user account
        function createAccount() {
            var username = usernameField.value;
            var password = passwordField.value;

            firebase.auth().createUserWithEmailAndPassword(username, password)
                .then(function (userCredential) {
                    // Handle successful account creation
                    console.log('Account created successfully:', userCredential.user);
                    // Redirect or show success message
                })
                .catch(function (error) {
                    // Handle account creation errors
                    console.error('Error creating account:', error);
                    // Show error message
                });
        }

        // Function to log in an existing user
        function login() {
            var username = usernameField.value;
            var password = passwordField.value;

            firebase.auth().signInWithEmailAndPassword(username, password)
                .then(function (userCredential) {
                    // Handle successful login
                    console.log('User logged in successfully:', userCredential.user);
                    // Redirect user to a different page
                    window.location.href = "dashboard.html";
                })
                .catch(function (error) {
                    // Handle login errors
                    console.error('Error logging in:', error);
                    // Show error message
                });
        }

        // Check if user is already logged in
        firebase.auth().onAuthStateChanged(function (user) {
            if (user) {
                // User is logged in, redirect to dashboard
                window.location.href = "dashboard.html";
            }
        });
    </script>
</body>
</html>
