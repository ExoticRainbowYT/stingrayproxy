<!DOCTYPE html>
<html lang="en">

<head>
  <title>Classes</title>
  <meta name="description" content="" />
  <link rel="stylesheet" href="assets/css/settings.css" />
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="card">
        <div class="container">
          <div class="title">
            <h4><b>About:Blank Cloaker</b></h4>
          </div>
          <p>Clicking this button will open your tab in an about:blank tab. It will stop extensions from seeing your
            screen.</p>
          <div>
            <button id="tabcloak" class="center-global tab-cloak tabcloak">About:Blank Button</button>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="container">
          <div class="title">
            <h4><b>CSS Input</b></h4>
          </div>
          <textarea id="cssInput" class="input-style"></textarea>
        </div>
      </div>

      <div class="card">
        <div class="container">
          <div class="title">
            <h4><b>JS Input</b></h4>
          </div>
          <textarea id="jsInput" class="input-style"></textarea>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="card">
        <div class="container">
          <div class="title">
            <h4><b>Panic Button</b></h4>
          </div>
          <input type="text" id="websiteInput" placeholder="Enter website URL">
          <input type="text" id="panicKeyInput" placeholder="Enter panic key">
          <script>
            document.addEventListener('keydown', function (event) {
              var panicKeyInput = document.getElementById('panicKeyInput');
              var panicKey = panicKeyInput.value.trim().toLowerCase();

              if (event.key === panicKey) {
                var websiteInput = document.getElementById('websiteInput');
                var websiteURL = websiteInput.value.trim();

                // Check if a valid URL is entered
                if (websiteURL !== '') {
                  // Redirect to the entered URL
                  window.location.href = websiteURL;
                }
              }
            });
          </script>
        </div>
      </div>

      <div class="card">
        <div class="container">
          <div class="title">
            <h4><b>Set Page Title</b></h4>
          </div>
          <span class="inputcontainer">
            <div><input id="title" class="input" placeholder="Set Page Title..." onkeyup="setTitle(this.value)"></div>
            <div><button onclick="resetTab()">Reset</button></div>
          </span>
        </div>
      </div>

      <div class="card">
        <div class="container">
          <div class="title">
            <h4><b>Favicon Cloaker</b></h4>
          </div>
          <span class="inputcontainer">
            <div><input id="icon" class="input" placeholder="Set Page Favicon..."
                onkeyup="setFavicon(this.value.trim())"></div>
            <div><button onclick="resetTab()">Reset</button></div>
          </span>
        </div>
      </div>
    </div>
  </div>

  <div id="output"></div>

  <script>
    function injectCode() {
      var cssCode = document.getElementById('cssInput').value;
      var jsCode = document.getElementById('jsInput').value;

      var style = document.createElement('style');
      style.type = 'text/css';
      style.appendChild(document.createTextNode(cssCode));
      document.head.appendChild(style);

      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.appendChild(document.createTextNode(jsCode));
      document.head.appendChild(script);

      var outputDiv = document.getElementById('output');
      outputDiv.innerHTML = 'Code injected successfully!';
    }

    function toggleEruda() {
      if (window.eruda) {
        window.eruda.init();
      } else {
        var script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/eruda';
        document.body.appendChild(script);
        script.onload = function () {
          window.eruda.init();
        };
      }
    }

    function setTitle(title) {
      document.title = title;
    }

    function setFavicon(url) {
      var link = document.querySelector("link[rel*='icon']") || document.createElement('link');
      link.type = 'image/x-icon';
      link.rel = 'shortcut icon';
      link.href = url;
      document.getElementsByTagName('head')[0].appendChild(link);
    }

    function resetTab() {
      location.reload();
    }
  </script>
</body>

</html>
